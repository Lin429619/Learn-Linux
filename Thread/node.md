## 同步
##### 同步工具
* 信号量：一个信号量是一个由内核维护的整数,**其值永远不会小于 0**。一个进程可以增加或减小一个信号量的值。如果一个进程试图将信号量的值减小到小于 0,那么内核会阻塞该操作直至信号量的值增长到允许执行该操作的程度。（或者进程可以要求执行一个非阻塞操作,那么就不会发生阻塞,内核会让该操作立即返回并返回一个标示无法立即执行该操作的错误。）
* 文件锁：可协调操作同一文件的多个进程的动作以及对其他共享资源的访问。分为读(共享)锁和写(互斥)锁。任意进程都可以持有同一文件(或一个文件的某段区域)的读锁,但当一个进程持有了一个文件(或文件区域)的**写锁**之后,**其他进程将无法获取该文件(或文件区域)上的读锁和写锁。**
> fcntl()系统调用提供了记录加锁,允许进程在同一文件的不同区域上加上多个读锁和写锁。
* 互斥体和条件变量

**小总结：** 当协调对==文件==的访问时==文件记录加锁==通常是最佳的选择,而对于协调对==其他共享资源==的访问来讲,==信号量==通常是更佳的选择。
